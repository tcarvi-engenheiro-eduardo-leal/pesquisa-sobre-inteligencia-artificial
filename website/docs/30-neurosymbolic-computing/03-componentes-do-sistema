# Componentes do Sistema

## 1. Camada de Recepação de Dados retornados por LLM

Nesta arquitetura, o LLM não é o tomador de decisão final. Ele atua como um **Parser de Intenção**.

* **Papel:** Receber linguagem natural (ex: "Leve o remédio para o quarto 202, mas não corra nos corredores") e gerar um rascunho de intenção.
* **Risco:** O LLM pode esquecer de checar se o quarto 202 existe ou se o robô tem bateria. É aqui que os próximos módulos entram.

## 2. Ontologia Cadastrada (A "Constituição" do Sistema)

Este é o seu **conhecimento estático e axiomático**.

* **O que contém:** Hierarquias (Todo `Robô` é um `Atuador`), restrições (`VelocidadeMáxima` de um `Robô` em `CorredorHospitalar` = 1.0m/s) e topologia (mapa de salas e conexões).
* **Estabilidade:** Ela não muda a menos que o desenvolvedor altere. Ela é a "âncora de realidade".

## 3. Extração de Entidades (O Alinhador Semântico)

Este módulo pega a saída do LLM e a "limpa" usando a Ontologia como dicionário.

* **Processo:** Se o LLM disse "quarto duzentos e dois", o extrator mapeia isso para o identificador único `room_202` definido na Ontologia.
* **Filtragem de Ruído:** Se o LLM mencionar algo que não existe na Ontologia (ex: "use o teletransporte"), o extrator ignora ou levanta um erro, pois não há mapeamento para esse conceito.

## 4. Processador de Mensagens Filtradas (O Grounding)

Aqui ocorre o **Semantic Grounding**. É o funil que garante que a intenção do LLM é **fisicamente e logicamente possível**.

* **Verificação de Estado:** O Filtro consulta o estado atual (telemetria) do Executor. "O LLM pediu para levar o remédio, mas o braço robótico está ocupado?".
* **Rejeição Prematura:** Se a mensagem filtrada violar um axioma básico (ex: mover para uma zona proibida), a instrução é descartada antes mesmo de chegar ao raciocínio complexo.

## 5. Reasoning Engine (O Juiz Lógico)

Com as entidades limpas e a intenção validada, o Motor de Raciocínio (como um *SAT Solver* ou *Prolog Engine*) executa a inferência.

* **Cadeia de Pensamento:** Ele não apenas executa; ele planeja. "Para chegar em `room_202`, devo atravessar `hallway_A`. A Ontologia diz que `hallway_A` está em manutenção. Conclusão: Rota alternativa necessária".
* **Determinismo:** Diferente do LLM, se você der a mesma entrada e o mesmo estado, o Reasoning Engine dará **sempre** a mesma saída.

## 6. Executor de Comandos (A Ponte para o Mundo Real)

Divide-se em dois canais:

* **Verbal:** O LLM recebe de volta o plano do Reasoning Engine e o traduz em uma resposta amigável para o usuário ("Estou indo por um caminho alternativo pois o corredor principal está fechado").
* **Físico:** Comandos de baixo nível (ROS, APIs de hardware) que movem motores e sensores.